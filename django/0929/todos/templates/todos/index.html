{% extends 'base.html' %}

{% block content %}
<h1 class="text-center">Todo-List</h1>
<form action="{% url 'todos:create' %}">
  <!-- 할일 -->
  <div class="input-group input-group-sm mb-3">
    <span class="input-group-text" id="inputGroup-sizing-sm">할 일</span>
    <input type="text" name="content" maxlength="80" class="form-control" aria-label="Sizing example input"
      aria-describedby="inputGroup-sizing-sm">
  </div>
  <!-- 우선순위 -->
  <div class="input-group input-group-sm mb-3">
    <span class="input-group-text" id="inputGroup-sizing-sm">우선순위</span>
    <select name='priority' class="form-select" id="floatingSelectGrid">
      <option selected>우선순위 정하기</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="3">4</option>
      <option value="3">5</option>
    </select>
  </div>
  <!-- 마감기한 -->
  <div class="input-group input-group-sm mb-3">
    <span class="input-group-text" id="inputGroup-sizing-sm">마감기한</span>
    <input type="date" name="deadline" class="form-control" aria-label="Sizing example input"
      aria-describedby="inputGroup-sizing-sm">
  </div>
  <div class="d-grid gap-2">
    <button class="btn btn-outline-primary" type="submit">할 일 추가</button>
  </div>
</form>
<!-- 목록 -->
<table class="table text-center mt-5">
  <thead>
    <tr>
      <th scope="col">우선순위</th>
      <th scope="col">할 일</th>
      <th scope="col">생성 날짜</th>
      <th scope="col">마감 기한</th>
      <th scope="col">진행 상태</th>
      <th scope="col">상태 변경</th>
      <th scope="col">삭제</th>
    </tr>
  </thead>
  <tbody>
    {% for todo in todos %}
    <tr>
      <td>{{ todo.priority }}</td>
      <td>{{ todo.content }}</td>
      <td>{{ todo.created_at }}</td>
      <td>{{ todo.deadline }}</td>
      <td>{{ todo.completed }}</td>
      <td>
        <a href="{% url 'todos:update' todo.pk %}">
          <input type="submit" class="btn btn-primary" value="변경">
      </td>
      <td>
        <a href="{% url 'todos:delete' todo.pk %}">
          <input type="submit" class="btn btn-danger" value="삭제">
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}